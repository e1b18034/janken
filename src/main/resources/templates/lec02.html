<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>Lec02 GET!</title>
</head>

<body>
  <p>
    <a href="/logout">ログアウト</a>
  </p>

  <p th:if="${user_name}">
    Hi [[${user_name}]]
  </p>

  <h1>Lec02 GET!</h1>
  <div th:if="${users}">
    <p>エントリー</p>
    <ul>
      <li th:each="user : ${users}">
        <a th:href="@{/match(id=${user.id})}">[[${user.name}]]</a>
      </li>
    </ul>
  </div>

  <p>
    <a href="/lec02?my_hand=0">ぐー</a>
    <a href="/lec02?my_hand=1">ちょき</a>
    <a href="/lec02?my_hand=2">ぱー</a>
  </p>

  <div th:if="${my_hand}">
    あなたの手 [[${my_hand}]]
  </div>
  <div th:if="${com_hand}">
    相手の手 [[${com_hand}]]
  </div>
  <div th:if="${result}">
    結果 [[${result}]]
  </div>

  <div th:if="${count}">
    対戦回数 [[${count}]]
  </div>
  <div th:if="${count}">
    勝ち回数 [[${win_count}]]回
    <span th:if="${win_rate} >= 0">([[${win_rate}]]%)</span>
  </div>
  <div th:if="${count}">
    負け回数 [[${lose_count}]]回
    <span th:if="${lose_rate} >= 0">([[${lose_rate}]]%)</span>
  </div>
  <div th:if="${count}">
    あいこ回数 [[${tie_count}]]回
    <span th:if="${tie_rate} >= 0">([[${tie_rate}]]%)</span>
  </div>

  <div th:if="${matches}">
    <p th:each="match : ${matches}">
      id：[[${match.id}]]
      user_1：[[${match.user_1}]]
      user_2：[[${match.user_2}]]
      user_1の手：[[${match.user_1_hand}]]
      user_2の手：[[${match.user_2_hand}]]
    </p>
  </div>
</body>

</html>
